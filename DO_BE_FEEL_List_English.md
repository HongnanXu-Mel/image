### Describe Our Current System Architecture and Design Choices

- **Front end**：Built with Umi + React + Ant Design. MobX stores manage user, subject, project, and comment data, while a shared layout keeps the UI consistent across dashboards, forms, and comment views. The top-level wrapper restores login info from localStorage so returning users can jump straight back in, shows a modal when login is needed, and uses Axios interceptors to add JWT tokens, handle 401 responses, and surface network errors with simple toasts. The front end leans on Ant Design form controls and tables to speed up subject/project creation, CSV import, and comment browsing workflows.
- **Back end**：Spring Boot exposes REST endpoints under `/api` and follows a layered design: controllers focus on request mapping and validation, services collect the business steps, and MyBatis DAOs talk to MySQL using mapper XML plus annotation-based queries. When someone creates or edits a project, the service wraps template, group, student, and rubric writes inside one transaction so the database stays consistent. We also have dedicated modules for subjects, comments, authentication, and marker assignment, each returning a standard `Result<T>` payload for easier front-end handling. Spring Boot and MySQL run in Docker Compose for consistent local environments and to mirror the stack we plan to deploy later.
- **Database**：MySQL stores core entities such as users, subjects, projects, templates, assessment criteria, comments, groups, and group memberships. Tables follow normalized designs with soft delete flags. The `init.sql` script seeds common rubric items, sample students, and default users (admin, markers) so new environments have ready-to-use data. Mapper XML files in the back end define joins for project details, group listings, and comment lookups.

### Justify the Critical Design Decisions

- **Front end**：React + Ant Design lets the UI team deliver polished screens quickly, especially for multi-step forms and large tables. Umi gives us routing and build tooling out of the box, while MobX keeps shared state (subject lists, comment sets, logged-in user info) lightweight and easy to update from API calls. We avoided heavier frameworks so we could iterate faster during sprints and keep the learning curve low for new contributors.
- **Back end**：Spring Boot, MyBatis, and MySQL fit the team’s experience, so we can focus on domain logic instead of framework setup. REST APIs keep the contract clear for the front end and future integrations, and a unified response model standardizes error handling. Using JWT keeps requests stateless, which is safer for shared classroom devices and will let us scale horizontally or add a gateway later without reworking sessions. Docker Compose creates a repeatable environment so every developer runs the same versions of Java, MySQL, and seed data.
- **Database**：MySQL is reliable, well-understood, and integrates smoothly with Spring Boot. MyBatis gives us control over SQL when we need custom joins, while still supporting mapper interfaces. The seed data helps demos and testing without manual setup, and the schema mirrors how we plan to track presentations, rubric weights, and feedback comments in production.

### Areas for Improvement and Possible Future Adjustments

- **Front end**：We need smoother handling when tokens expire (for example, showing a gentle prompt instead of refreshing the page), plus better loading and error states for long-running imports or bulk actions. The `/api` base URL should come from environment variables so we can swap between local, staging, and production without code changes. We also plan to finish the scoring UI, add navigation breadcrumbs, and improve accessibility (keyboard shortcuts, contrast tweaks) before client testing.
- **Back end**：Role checks are currently coarse, so we plan to add method-level annotations and permission audits. Large CSV imports should use batch writes and tuned indexes to reduce lock time, and we want more monitoring around slow queries. The reporting module still needs PDF rendering, email delivery, and LMS hooks; once the core flows stabilize, we will integrate with Canvas for roster sync and grade passback. Continuous integration (linting, tests, Docker build) and automated staging deploys are also on the roadmap to support faster releases.
- **Database**：Indexes need review as data volumes grow, especially on join tables for group-student mappings and comment lookups. We plan to add migration tooling (Flyway/Liquibase) to manage schema changes across environments. Future work also includes separating read-heavy workloads (dashboards, reports) with replicas and adding audit tables for score history.

